<script setup lang="ts">
import { PropType, computed } from 'vue';
import { Team, fillColors, strokeColors } from '../domain';
import { randomString } from '../helpers';

const props = defineProps({
    team: {type: String as PropType<Team>, required: true},
    fill: {type: Number, default: 1}
})

const strokeColor = computed<string>(() => {
    return strokeColors[props.team]
})

const fillColor = computed<string>(() => {
    return fillColors[props.team]
})

const svgHeight=51
const id=randomString(10);

const height = computed<number>(() => {
    return svgHeight * props.fill;
});
</script>

<template>
    <svg width="73" height="51" viewBox="0 0 73 51" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask :id="`empty-${id}`" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" :y="0" width="73" :height="svgHeight-height">
            <rect :y="0" width="73" :height="51-height" fill="#000000"/>
        </mask>
        <mask :id="`filled-${id}`" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" :y="svgHeight - height" width="73" :height="height">
            <rect :y="svgHeight - height" width="73" :height="height" fill="#000000"/>
        </mask>
        <g :mask="`url(#empty-${id})`">
            <path d="M65.6355 30.971C65.6355 30.971 66.0079 13.1262 52.0621 6.285C51.89 4.47205 49.9895 2.45709 49.9895 2.45709C49.9895 2.45709 29.776 -2.28639 18.0254 12.9308C12.8653 19.6131 9.59071 33.1879 9.59071 33.1879C9.59071 33.1879 1.04842 37.5671 2.43902 41.5672C3.92068 45.8305 18.3366 47.9481 22.4604 48.8703C32.7344 51.1701 46.8027 40.0688 59.4042 38.5671C68.3604 37.5009 68.6931 33.6068 65.6355 30.971Z" fill="white"/>
            <path d="M27.2382 50.3836C25.4949 50.5492 23.8047 50.4896 22.179 50.1253C21.5863 49.9929 20.752 49.8306 19.7852 49.6419C11.1551 47.9614 2.6145 45.9862 1.22555 41.9894C-0.305769 37.582 6.3857 33.4826 8.4832 32.3236C9.17354 29.6332 12.2858 18.2621 17.0089 12.146C22.0317 5.64093 29.3853 1.68722 38.2736 0.710375C44.9403 -0.0214284 50.0673 1.15575 50.2825 1.20542L50.6583 1.29317L50.9232 1.57463C51.1235 1.78655 52.7061 3.5101 53.2061 5.4257C58.9357 8.44067 63.1108 13.7471 65.3044 20.8135C66.6635 25.1943 66.8837 28.9858 66.9151 30.408C68.4018 31.8849 68.9762 33.5985 68.4928 35.1813C67.973 36.885 65.9997 39.0771 59.5549 39.8437C54.2888 40.4712 48.6336 42.8868 43.1639 45.2229C37.5585 47.6153 32.1814 49.9118 27.2382 50.3836ZM39.0649 3.21208C38.8679 3.23029 38.6709 3.25182 38.4706 3.27334C30.2131 4.20051 23.6772 7.71382 19.0419 13.7156C14.1118 20.0998 10.8721 33.3568 10.8389 33.4892L10.6999 34.0621L10.1751 34.3303C10.1552 34.3402 8.10906 35.3982 6.27478 36.8966C5.08118 37.8701 3.1542 39.7178 3.65084 41.145C3.8346 41.6732 4.81629 43.0772 9.96485 44.6964C13.4265 45.7858 17.3847 46.5557 20.2752 47.1186C21.2602 47.3107 22.1111 47.4763 22.7386 47.617C28.1669 48.8322 34.961 45.9299 42.1541 42.8586C47.791 40.4513 53.6183 37.9628 59.2503 37.2923C64.9402 36.6134 65.8821 34.9297 66.0344 34.4296C66.2496 33.7276 65.7861 32.7988 64.7945 31.9445L64.3359 31.5504L64.3491 30.9461C64.3525 30.711 64.4965 13.8199 51.4943 7.439L50.8503 7.12276L50.7825 6.40752C50.6997 5.54326 49.9183 4.3578 49.3107 3.62931C48.0807 3.39255 44.038 2.73856 39.0649 3.21208Z" fill="#B7B7B7"/>
            <path d="M25.2152 21.1148L22.4207 19.8648L22.8693 18.724C22.9339 18.5584 24.5149 14.6146 28.647 10.4755C32.4414 6.67242 39.2156 1.97199 49.8935 1.17727L50.0838 3.7386C42.4653 4.30815 36.0735 6.97873 31.0872 11.6858C35.845 8.25691 42.8709 4.89922 52.0754 5.00187L52.0472 7.57144C35.1828 7.38435 25.9154 20.1313 25.8244 20.2588L25.2152 21.1148Z" fill="#B7B7B7"/>
            <path d="M37.2886 40.082C32.501 40.539 27.1289 40.5738 21.7536 39.8072C11.7842 38.3867 8.66861 34.1084 8.54114 33.928L10.6419 32.4478L9.59237 33.1879L10.6337 32.4362C10.6602 32.4726 13.3752 36.0191 22.1161 37.2641C33.9512 38.9512 45.7084 36.6151 50.7245 34.6316L51.6681 37.0207C48.6949 38.1962 43.4818 39.491 37.2886 40.082Z" fill="#B7B7B7"/>
            <path d="M61.255 33.9743L60.3925 31.5538C63.5926 30.4147 64.2879 28.4593 64.316 28.3765L66.7694 29.1381C66.7297 29.2706 65.748 32.3733 61.255 33.9743Z" fill="#B7B7B7"/>
        </g>
        <g :mask="`url(#filled-${id})`">
            <path d="M65.6355 30.971C65.6355 30.971 66.0079 13.1262 52.0621 6.285C51.89 4.47205 49.9895 2.45709 49.9895 2.45709C49.9895 2.45709 29.776 -2.28639 18.0254 12.9308C12.8653 19.6131 9.59071 33.1879 9.59071 33.1879C9.59071 33.1879 1.04842 37.5671 2.43902 41.5672C3.92068 45.8305 18.3366 47.9481 22.4604 48.8703C32.7344 51.1701 46.8027 40.0688 59.4042 38.5671C68.3604 37.5009 68.6931 33.6068 65.6355 30.971Z" :fill="fillColor"/>
            <path d="M27.2382 50.3836C25.4949 50.5492 23.8047 50.4896 22.179 50.1253C21.5863 49.9929 20.752 49.8306 19.7852 49.6419C11.1551 47.9614 2.6145 45.9862 1.22555 41.9894C-0.305769 37.582 6.3857 33.4826 8.4832 32.3236C9.17354 29.6332 12.2858 18.2621 17.0089 12.146C22.0317 5.64093 29.3853 1.68722 38.2736 0.710375C44.9403 -0.0214284 50.0673 1.15575 50.2825 1.20542L50.6583 1.29317L50.9232 1.57463C51.1235 1.78655 52.7061 3.5101 53.2061 5.4257C58.9357 8.44067 63.1108 13.7471 65.3044 20.8135C66.6635 25.1943 66.8837 28.9858 66.9151 30.408C68.4018 31.8849 68.9762 33.5985 68.4928 35.1813C67.973 36.885 65.9997 39.0771 59.5549 39.8437C54.2888 40.4712 48.6336 42.8868 43.1639 45.2229C37.5585 47.6153 32.1814 49.9118 27.2382 50.3836ZM39.0649 3.21208C38.8679 3.23029 38.6709 3.25182 38.4706 3.27334C30.2131 4.20051 23.6772 7.71382 19.0419 13.7156C14.1118 20.0998 10.8721 33.3568 10.8389 33.4892L10.6999 34.0621L10.1751 34.3303C10.1552 34.3402 8.10906 35.3982 6.27478 36.8966C5.08118 37.8701 3.1542 39.7178 3.65084 41.145C3.8346 41.6732 4.81629 43.0772 9.96485 44.6964C13.4265 45.7858 17.3847 46.5557 20.2752 47.1186C21.2602 47.3107 22.1111 47.4763 22.7386 47.617C28.1669 48.8322 34.961 45.9299 42.1541 42.8586C47.791 40.4513 53.6183 37.9628 59.2503 37.2923C64.9402 36.6134 65.8821 34.9297 66.0344 34.4296C66.2496 33.7276 65.7861 32.7988 64.7945 31.9445L64.3359 31.5504L64.3491 30.9461C64.3525 30.711 64.4965 13.8199 51.4943 7.439L50.8503 7.12276L50.7825 6.40752C50.6997 5.54326 49.9183 4.3578 49.3107 3.62931C48.0807 3.39255 44.038 2.73856 39.0649 3.21208Z" :fill="strokeColor"/>
            <path d="M25.2152 21.1148L22.4207 19.8648L22.8693 18.724C22.9339 18.5584 24.5149 14.6146 28.647 10.4755C32.4414 6.67242 39.2156 1.97199 49.8935 1.17727L50.0838 3.7386C42.4653 4.30815 36.0735 6.97873 31.0872 11.6858C35.845 8.25691 42.8709 4.89922 52.0754 5.00187L52.0472 7.57144C35.1828 7.38435 25.9154 20.1313 25.8244 20.2588L25.2152 21.1148Z" :fill="strokeColor"/>
            <path d="M37.2886 40.082C32.501 40.539 27.1289 40.5738 21.7536 39.8072C11.7842 38.3867 8.66861 34.1084 8.54114 33.928L10.6419 32.4478L9.59237 33.1879L10.6337 32.4362C10.6602 32.4726 13.3752 36.0191 22.1161 37.2641C33.9512 38.9512 45.7084 36.6151 50.7245 34.6316L51.6681 37.0207C48.6949 38.1962 43.4818 39.491 37.2886 40.082Z" :fill="strokeColor"/>
            <path d="M61.255 33.9743L60.3925 31.5538C63.5926 30.4147 64.2879 28.4593 64.316 28.3765L66.7694 29.1381C66.7297 29.2706 65.748 32.3733 61.255 33.9743Z" :fill="strokeColor"/>
        </g>
    </svg>
</template>